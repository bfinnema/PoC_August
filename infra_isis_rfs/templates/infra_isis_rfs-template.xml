<config-template xmlns="http://tail-f.com/ns/config/1.0">
  <devices xmlns="http://tail-f.com/ns/ncs">
    <device>
      <name>{$DEVICE}</name>
      <config>
        <interfaces xmlns="http://cisco.com/ns/yang/Cisco-IOS-XR-um-interface-cfg">
          <interface>
            <interface-name>Loopback0</interface-name>
            <ipv4>
              <addresses xmlns="http://cisco.com/ns/yang/Cisco-IOS-XR-um-if-ip-address-cfg">
                <address>
                  <address>{$LOOPBACK0_IPV4_ADDRESS}</address>
                  <netmask>{$LOOPBACK0_IPV4_MASK}</netmask>
                </address>
              </addresses>
            </ipv4>
          </interface>
          <interface>
            <interface-name>{$INTERFACE_NAME}{$INTERFACE_NUMBER}</interface-name>
            <ipv4>
              <addresses xmlns="http://cisco.com/ns/yang/Cisco-IOS-XR-um-if-ip-address-cfg">
                <address>
                  <address>{$IPV4_ADDRESS}</address>
                  <netmask>{$IPV4_MASK}</netmask>
                </address>
              </addresses>
            </ipv4>
            <description>{$INTERFACE_DESCRIPTION}</description>
            <lldp xmlns="http://cisco.com/ns/yang/Cisco-IOS-XR-um-lldp-cfg">
              <enable/>
            </lldp>
          </interface>
        </interfaces>
        <router xmlns="http://cisco.com/ns/yang/Cisco-IOS-XR-um-router-isis-cfg">
          <isis>
            <processes>
              <process>
                <process-id>{$ISIS_PROCESS_ID}</process-id>
                <is-type>level-2-only</is-type>
                <nets>
                  <net>
                    <net-id>{$NET_ID}</net-id>
                  </net>
                </nets>
                <interfaces>
                  <interface>
                    <interface-name>{$INTERFACE_NAME}{$INTERFACE_NUMBER}</interface-name>
                    <address-families>
                      <address-family>
                        <af-name>ipv4</af-name>
                        <saf-name>unicast</saf-name>
                        <mpls>
                          <ldp>
                            <sync>
                              <level>2</level>
                            </sync>
                          </ldp>
                        </mpls>
                      </address-family>
                      <address-family>
                        <af-name>ipv6</af-name>
                        <saf-name>unicast</saf-name>
                        <mpls>
                          <ldp>
                            <sync>
                              <level>2</level>
                            </sync>
                          </ldp>
                        </mpls>
                      </address-family>
                    </address-families>
                  </interface>
                  <interface>
                    <interface-name>Loopback0</interface-name>
                    <address-families>
                      <address-family>
                        <af-name>ipv4</af-name>
                        <saf-name>unicast</saf-name>
                      </address-family>
                      <address-family>
                        <af-name>ipv6</af-name>
                        <saf-name>unicast</saf-name>
                      </address-family>
                    </address-families>
                  </interface>
                </interfaces>
              </process>
            </processes>
          </isis>
        </router>
        <interface xmlns="http://tail-f.com/ned/cisco-ios-xr">
          <Loopback>
            <id>0</id>
            <ipv4>
              <address>
                <ip>{$LOOPBACK0_IPV4_ADDRESS}</ip>
                <mask>{$LOOPBACK0_IPV4_MASK}</mask>
              </address>
            </ipv4>
          </Loopback>
            <?if {$INTERFACE_NAME = 'TenGigE'}?>
            <TenGigE>
              <id>{$INTERFACE_NUMBER}</id>
              <ipv4>
                <address>
                  <ip>{$IPV4_ADDRESS}</ip>
                  <mask>{$IPV4_MASK}</mask>
                </address>
              </ipv4>
            </TenGigE>
          <?end?>
            <?if {$INTERFACE_NAME = 'GigabitEthernet'}?>
            <GigabitEthernet>
              <id>{$INTERFACE_NUMBER}</id>
              <ipv4>
                <address>
                  <ip>{$IPV4_ADDRESS}</ip>
                  <mask>{$IPV4_MASK}</mask>
                </address>
              </ipv4>
            </GigabitEthernet>
          <?end?>
        </interface>
        <router xmlns="http://tail-f.com/ned/cisco-ios-xr">
          <isis>
            <tag>
              <name>{$ISIS_PROCESS_ID}</name>
              <is-type>level-2-only</is-type>
              <net>
                <id>{$NET_ID}</id>
              </net>
              <address-family>
                <ipv4>
                  <unicast/>
                </ipv4>
                <ipv6>
                  <unicast/>
                </ipv6>
              </address-family>
              <interface>
                <name>Loopback0</name>
                <address-family>
                  <ipv4>
                    <unicast/>
                  </ipv4>
                  <ipv6>
                    <unicast/>
                  </ipv6>
                </address-family>
              </interface>
              <interface>
                <name>{$INTERFACE_NAME}{$INTERFACE_NUMBER}</name>
                <address-family>
                  <ipv4>
                    <unicast>
                      <mpls>
                        <ldp>
                          <sync>
                            <level>2</level>
                          </sync>
                        </ldp>
                      </mpls>
                    </unicast>
                  </ipv4>
                  <ipv6>
                    <unicast>
                      <mpls>
                        <ldp>
                          <sync>
                            <level>2</level>
                          </sync>
                        </ldp>
                      </mpls>
                    </unicast>
                  </ipv6>
                </address-family>
              </interface>
            </tag>
          </isis>
        </router>
      </config>
    </device>
  </devices>
</config-template>
